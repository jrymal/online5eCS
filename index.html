<!DOCTYPE html>
<html lang="EN-US">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="keywords" content="Character Sheet"/>
        <meta name="description" content="An online only Dungeons and Dragons 5th Edition character record sheet editor."/>
        <meta name="author" content="jrymal"/>
        <meta name="theme-color" content="#3367D6"/>

        <title>You have no Class!</title>

        <link rel="manifest" href="manifest.json">

        <link rel="icon" href="images/icons-192.png" sizes="192x192" />
        <link rel="icon" href="images/icons-512.png" sizes="512x512" />

        <!-- All static objects rely on deep freeze in Util -->
        <script type="text/javascript" src="js/Util.js"> </script>
        <script type="text/javascript" src="js/DB.js" async> </script>
        <script type="text/javascript" src="js/Random.js" async> </script>
        <script type="text/javascript" src="js/Races.js" async> </script>
        <script type="text/javascript" src="js/Skills.js" async> </script>
        <script type="text/javascript" src="js/Classes.js" async> </script>
        <script type="text/javascript" src="js/Backstories.js" async> </script>
        <script type="text/javascript" src="js/Languages.js" async> </script>
        <script type="text/javascript" src="js/Coinage.js" async> </script>
        <script type="text/javascript" src="js/CharacterWizard.js" async> </script>
        <script type="text/javascript" src="js/Init.js" async> </script>
        <script type="text/javascript" src="js/Colors.js" async> </script>

        <link rel="stylesheet" type="text/css" href="css/core.css" media="all" async/>

    </head>
    <body onload="init()" onbeforeunload="beforeUnload()" onhashchange="hashChange()">
        <div id="rootNode" class="topContainer nocharacter">

            

            <button id="install-app" class="hidden install-app" type="button" onClick="installApp()">Install as an App for offline operation</button>

            <section class="stack header">
                <h1>
                    <span id="character.name.first"></span>
                    <span class="quoted" id="character.name.nickname"></span>
                    <span class="parens" id="character.name.child"></span>
                    <span id="character.name.family"></span>
                </h1>
                <nav class="nav nav-menu" role="navigation">
                    <ul>
                        <li><a href="#createCharacter.player" onclick="return clearAllFields(document.getElementsByClassName('createCharacter'));">Create a new Character</a></li>
                        <li><a href="#importFile">Load a character</a></li>
                        <li><a href="#" id="downloadCharacter">Download Character</a></li>
                    </ul>
                </nav>
            </section>

            <dl class="stack playerInfo">
                <dt>Role Player</dt>
                <dd id="player.name"></dd>

                <dt>Phone Number</dt>
                <dd >
                <a target="_blank" id="player.phone" href="tel:+" >Phone number missing</a>
                </dd>

                <dt>Email</dt>
                <dd>
                <a target="_blank" id="player.email" href="mailto:">Email missing</a>
                </dd>
            </dl>

            <dl class="stack fullWidth subdivided stats">
                <dt>Race</dt>
                <dd>
                <span id="character.race" data-lookup="RACES"></span>
                <span class="parens" id="character.pronoun" data-lookup="PRONOUNS"></span>
                </dd>

                <dt>Alignment</dt>
                <dd>Society: <span id="character.alignment.society"></span></dd>
                <dd>Morality: <span id="character.alignment.morality"></span></dd>
            
                <dt>Size</dt>
                <dd id="RACE.size.simple"></dd>

                <dt>Speed</dt>
                <dd id="RACE.speed"></dd>

                <dt>Class</dt>
                <dd class="marginless">
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Class</th>
                            <th scope="col">Level</th>
                            <th scope="col">Hit Die</th>
                        </tr>
                    </thead>
                    <tbody id="character.class">
                    </tbody>
                </table>
                </dd>

                <dt>Experience Points</dt>
                <dd id="character.experience" ></dd>

                <dt>Max Hit Points</dt>
                <dd id="character.hitPoints.max"></dd>

                <dt>Current Hit Points</dt>
                <dd id="character.hitPoints.current"></dd>

                <dt>Race Traits</dt>
                <dd id="RACE.features"></dd>

                <dt>Class Features</dt>
                <dd id="CALC.features"></dd>

                <dt>Spells</dt>
                <dd id="character.spells"></dd>

                <dt>Saving Throw Proficiencies</dt>
                <dd id="CALC.savingThrows" data-lookup="ATTRIBUTES"></dd> 

                <dt>Proficiencies</dt>
                <dd id="CALC.proficiency"></dd>

                <dt>Skills</dt>
                <dd class="marginless">
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bonus</th>
                        </tr>
                    </thead>
                    <tbody id="character.skills">
                    </tbody>
                </table>
                </dd>
            
                <dt>Languages</dt>
                <dd id="character.languages" data-lookup="LANGUAGES"></dd>

                <dt>Inspiration</dt>
                <dd><label><input type="checkbox" id="character.inspiration" disabled="disabled"/>Inspiration</label</dd>
            </dl>

            <table class="stack fullWidth attributes">
                <caption>Your character's Attribute values</caption>
                <thead>
                    <tr>
                        <th scope="col">Attribute Name</th>
                        <th scope="col">Natural (Race Modifier)</th>
                        <th scope="col">Total</th>
                        <th scope="col">Saving Throw Modifier</th>
                        <th scope="col">Passive Saving Throw</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Strength</th>
                        <td >
                            <span id="character.attribute.strength"></span>
                            <span class="parens" id="CALC.attribute.strength.raceModifier" data-show-0="false"></span>
                        </td>
                        <td id="CALC.attribute.strength.total"></td>
                        <td id="CALC.attribute.strength.savingThrow"></td>
                        <td id="CALC.attribute.strength.passiveSavingThrow"></td>
                    </tr>
                    <tr>
                        <th scope="row">Dexterity</th>
                        <td >
                            <span id="character.attribute.dexterity"></span>
                            <span class="parens"id="CALC.attribute.dexterity.raceModifier" data-show-0="false"></span>
                        </td>
                        <td id="CALC.attribute.dexterity.total"></td>
                        <td id="CALC.attribute.dexterity.savingThrow"></td>
                        <td id="CALC.attribute.dexterity.passiveSavingThrow"></td>
                    </tr>  
                    <tr>
                        <th scope="row">Constitution</th>
                        <td >
                            <span id="character.attribute.constitution"></span>
                            <span class="parens"id="CALC.attribute.constitution.raceModifier" data-show-0="false"></span>
                        </td>
                        <td id="CALC.attribute.constitution.total"></td>
                        <td id="CALC.attribute.constitution.savingThrow"></td>
                        <td id="CALC.attribute.constitution.passiveSavingThrow"></td>
                    </tr>
                    <tr>
                        <th scope="row">Intelligence</th>
                        <td >
                            <span id="character.attribute.intelligence"></span>
                            <span class="parens"id="CALC.attribute.intelligence.raceModifier" data-show-0="false"></span>
                        </td>
                        <td id="CALC.attribute.intelligence.total"></td>
                        <td id="CALC.attribute.intelligence.savingThrow"></td>
                        <td id="CALC.attribute.intelligence.passiveSavingThrow"></td>
                    </tr>
                    <tr>
                        <th scope="row">Wisdom</th>
                        <td >
                            <span id="character.attribute.wisdom"></span>
                            <span class="parens"id="CALC.attribute.wisdom.raceModifier" data-show-0="false"></span>
                        </td>
                        <td id="CALC.attribute.wisdom.total"></td>
                        <td id="CALC.attribute.wisdom.savingThrow"></td>
                        <td id="CALC.attribute.wisdom.passiveSavingThrow"></td>
                    </tr>
                    <tr>
                        <th scope="row">Charisma</th>
                        <td >
                            <span id="character.attribute.charisma"></span>
                            <span class="parens"id="CALC.attribute.charisma.raceModifier" data-show-0="false"></span>
                        </td>
                        <td id="CALC.attribute.charisma.total"></td>
                        <td id="CALC.attribute.charisma.savingThrow"></td>
                        <td id="CALC.attribute.charisma.passiveSavingThrow"></td>
                    </tr>
                </tbody>
            </table>
            <dl class="stack fullWidth subdivided appearance">
                <dt>Age</dt>
                <dd id="character.details.age" ></dd>

                <dt>Height</dt>
                <dd id="character.details.height"></dd>

                <dt>Weight (in lbs)</dt>
                <dd id="character.details.weight"></dd>

                <dt>Purse</dt>
                <dd>
                    <a href="#purseUpdate">View Purse</a> 
                </dd>
                
                <dt>Weapons</dt>
                <dd id="character.weapons"></dd>

                <dt>Equipment</dt>
                <dd id="character.equipment"></dd>

                <dt>Treasure</dt>
                <dd id="character.treasure"></dd>

                <dt>Backstory Type</dt>
                <dd id="character.backstory.type" data-lookup="BACKSTORIES"></dd>

                <dt>Backstory</dt>
                <dd id="character.backstory.story"></dd>

                <dt>Appearance</dt>
                <dd id="character.details.appearance" ></dd>

                <dt>Eye Color</dt>
                <dd>
                    <div class="swatch tagAlong" id="character.details.eyecolor.color"></div>
                    <div class="tagAlong" id="character.details.eyecolor" data-lookup="EYE_COLOR"></div>
                </dd>

                <dt>Skin Color</dt>
                <dd>
                    <div class="swatch tagAlong" id="character.details.skin.color"></div>
                    <div class="tagAlong" id="character.details.skin" data-lookup="SKIN_COLOR"></div>
                </dd>

                <dt>Hair Color</dt>
                <dd>
                    <div class="swatch tagAlong" id="character.details.hair.color"></div>
                    <div class="tagAlong" id="character.details.hair" data-lookup="HAIR_COLOR"></div>
                </dd>

                <dt>Personality Traits</dt>
                <dd id="character.personalitytraits"></dd>

                <dt>Ideals</dt>
                <dd id="character.ideals"></dd>

                <dt>Bonds</dt>
                <dd id="character.bonds"></dd>

                <dt>Flaws</dt>
                <dd id="character.flaws"></dd>

                <dt>Allies</dt>
                <dd id="character.allies"></dd> 
            </dl>

            <p class="fullWidth footer">I've been known to be wrong every once in a while. If you've found an Issue, <a rel="noopener" target="_blank" href="https://github.com/jrymal/online5eCS/issues/new">let me know!</a></p>
            
            <dialog class="modal" id="importFile">
                <div class="base" >
                    <h2>Load Character</h2>
                    <div class="description">Load your character</div>
                    <label class="tagAlong"><input type="radio" name="importType" id="importFile.radio.file" value="file" checked/>Import file</label>
                    <input class="tagAlong" type="file" id="importFile.importFile" name="importFile" />
                    <br>
                    <table>
                        <thead>
                            <tr>
                                <th scope="col">Select</th>
                                <th scope="col">Data</th>
                                <th scope="col">Delete</th>
                            </tr>
                        </thead>
                        <tbody id="DB.character">
                        </tbody>
                    </table>

                    <a href="#">Cancel</a>
                    <a href="#" onClick="return loadFromJSON()" >Ok</a>
                </div>
            </dialog>
            <dialog class="modal" id="purseUpdate">
                <div class="base">
                    <h2>I assume you are buying or accumulating your wealth....otherwise, why are you here?</h2>
                    <div class="description">Load your character</div>
                    <label for="purse.pp" name="purse.pp">Purse (PP)</label>
                    <input type="number" name="purse.pp" pattern="[0-9]*" id="purse.pp" class="short" min="0" />
                    <label for="purse.gp" name="purse.gp">Purse (GP)</label>
                    <input type="number" name="purse.gp" pattern="[0-9]*" id="purse.gp" class="short"
                                                                                        min="0" />

                    <label for="purse.ep" name="purse.ep">Purse (EP)</label>
                    <input type="number" name="purse.ep" pattern="[0-9]*" id="purse.ep" class="short"
                                                                                        min="0" />
                    <label for="purse.sp" name="purse.sp">Purse (SP)</label>
                    <input type="number" name="purse.sp" pattern="[0-9]*" id="purse.sp" class="short"
                                                                                        min="0" />

                    <label for="purse.cp" name="purse.cp">Purse (CP)</label>
                    <input type="number" name="purse.cp" pattern="[0-9]*" id="purse.cp" class="short"
                                                                                        min="0" />
                    <label for="purse.description" name="purse.description">Purchase Description</label>
                    <textarea id="purse.description" name="purse.description" spellcheck="true"></textarea>
                    <button onClick="usePurse('-')">Spend</button>
                    <button onClick="usePurse('+')">Gain</button> 
                    <a href="#">Done</a>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.player">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.player.name">Role Player</label>
                        <input type="text" id="createCharacter.player.name" name="player.name" required/>

                        <label for="createCharacter.player.phone">Phone Number</label>
                        <input type="tel" id="createCharacter.player.phone" name="player.phone" autocomplete="tel"/>

                        <label for="createCharacter.player.email">Email</label>
                        <input type="email" id="createCharacter.player.email" name="player.email" autocomplete="email"/> 
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#" class="no-action">Previous</a>
                        <a href="#createCharacter.race" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.race">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.character.race">Race</label>
                        <select id="createCharacter.character.race" name="character.race" data-lookup="RACES"></select>

                        <label for="createCharacter.character.pronoun">Pronoun</label>
                        <select id="createCharacter.character.pronoun" name="character.pronoun" data-lookup="PRONOUNS"></select>

                        <label for="createCharacter.character.alignment.society">Alignment (Attitude toward Society)</label>
                        <select id="createCharacter.character.alignment.society" name="character.alignment.society" data-rng="true">
                            <option value="Lawful">Lawful</option>
                            <option value="Neutral">Neutral</option>
                            <option value="Chaotic">Chaotic</option>
                        </select>
                        <label for="createCharacter.character.alignment.morality">Alignment (Morality)</label>
                        <select id="createCharacter.character.alignment.morality" name="character.alignment.morality" data-rng="true">
                            <option value="Good">Good</option>
                            <option value="Neutral">Neutral</option>
                            <option value="Evil">Evil</option>
                        </select>  
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.player" >Previous</a>
                        <a href="#createCharacter.name" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.name">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.character.name.first">First Name</label>
                        <input type="text" id="createCharacter.character.name.first" name="character.name.first" required/>
                        <label for="createCharacter.character.name.family">Family Name</label>
                        <input type="text" id="createCharacter.character.name.family" name="character.name.family"/>
                        <label for="createCharacter.character.name.nickname">Nickname</label>
                        <input type="text" id="createCharacter.character.name.nickname" name="character.name.nickname"/>
                        <label for="createCharacter.character.name.child">Child Name</label>
                        <input type="text" id="createCharacter.character.name.child" name="character.name.child"/>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.race" >Previous</a>
                        <a href="#createCharacter.class" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.class">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen" id="createCharacter.class.form">
                        <div class="createCharacter">
                            <label for="createCharacter.character.class.type">Class</label>
                            <select id="createCharacter.character.class.type" data-lookup="CLASSES"></select>

                            <label for="createCharacter.character.level">Level</label>
                            <input type="number" id="createCharacter.character.level" pattern="[0-9]*" class="short" min="1" max="40" required value="1"/>

                            <button type="button" class="multiclass" onClick="addClass()">Add Class</button>
                        </div>
                        <table>
                            <caption>Classes choosen</caption>
                            <thead>
                                <tr>
                                    <th>Class</th>
                                    <th>Level</th>
                                    <th>Remove</th>
                                </tr>
                            </thead>
                            <tbody id="createCharacter.character.class.tbody">
                            </tbody> 
                        </table>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.name" >Previous</a>
                        <a href="#createCharacter.attr" class="next"
                            onclick="return postProcessStep($('createCharacter.class.form'))">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.attr">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen">
                        <!-- generation options and execution -->
                        <label for="createCharacter.attr.chooser">How do you want your attributes set?</label>
                        <select id="createCharacter.attr.chooser">
                            <option value="Throwaway">Throwaway lowest of 4</option>
                            <option value="Straight">Straight 3 rolls</option>
                            <option value="Manual">I'll roll and enter the vaules</option>
                        </select>
                        <button type="button" onClick="generateAttributes()">Generate Attributes</button>

                        <div class="column-2 createCharacter">
                            <label for="createCharacter.character.attribute.strength">Strength</label>
                            <input type="number"  pattern="[0-9]*" name="character.attribute.strength" id="createCharacter.character.attribute.strength" class="short"  min="3" max="20" required/>
                            <label for="createCharacter.character.attribute.dexterity">Dexterity</label>
                            <input type="number"  pattern="[0-9]*" name="character.attribute.dexterity" id="createCharacter.character.attribute.dexterity" class="short"  min="3" max="20" required/>
                            <label for="createCharacter.character.attribute.constitution">Constitution</label>
                            <input type="number"  pattern="[0-9]*" name="character.attribute.constitution" id="createCharacter.character.attribute.constitution" class="short"  min="3" max="20" required/>
                            <label for="createCharacter.character.attribute.intelligence">Intelligence</label>
                            <input type="number"  pattern="[0-9]*" name="character.attribute.intelligence" id="createCharacter.character.attribute.intelligence" class="short"  min="3" max="20" required/>
                            <label for="createCharacter.character.attribute.wisdom">Wisdom</label>
                            <input type="number"  pattern="[0-9]*" name="character.attribute.wisdom" id="createCharacter.character.attribute.wisdom" class="short"  min="3" max="20" required/>
                            <label for="createCharacter.character.attribute.charisma">Charisma</label>
                            <input type="number"  pattern="[0-9]*" name="character.attribute.charisma" id="createCharacter.character.attribute.charisma" class="short"  min="3" max="20" required/>
                        </div>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.class" >Previous</a>
                        <a href="#createCharacter.backstory" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.backstory">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.backstory.type">Backstory Type</label>
                        <select id="createCharacter.backstory.type" name="character.backstory.type"  data-lookup="BACKSTORIES"></select>

                        <label for="createCharacter.backstory.story">Backstory</label>
                        <textarea id="createCharacter.backstory.story" name="character.backstory.story" spellcheck="true"></textarea> 
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.attr" >Previous</a>
                        <a href="#createCharacter.age" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.age">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.details.age">Age (in years)</label>
                        <input type="number" pattern="[0-9]*" id="createCharacter.details.age" class="short" name="character.details.age" min="0"max="100"/>

                        <label for="createCharacter.details.height">Height (in inches)</label>
                        <input type="text" id="createCharacter.details.height" name="character.details.height"/>

                        <label for="createCharacter.details.weight">Weight (in pounds)</label>
                        <input type="text" id="createCharacter.details.weight" name="character.details.weight"/>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.backstory" >Previous</a>
                        <a href="#createCharacter.colors" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.colors">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.details.eyecolor">Eye Color</label>
                        <select class="tagAlong"  id="createCharacter.details.eyecolor" name="character.details.eyecolor" data-type="color" data-lookup="EYE_COLOR" data-sort="false" onchange="changeColor(event);"></select>
                        <div id="createCharacter.details.eyecolor.color" class="swatch"></div>

                        <label for="createCharacter.details.skin">Skin Color</label>
                        <select class="tagAlong"  data-type="color" id="createCharacter.details.skin" name="character.details.skin" data-lookup="SKIN_COLOR" data-sort="false" onchange="changeColor(event);"></select>
                        <div id="createCharacter.details.skin.color" class="swatch"></div>

                        <label for="createCharacter.details.hair">Hair Color</label>
                        <select class="tagAlong" data-type="color" id="createCharacter.details.hair" name="character.details.hair" data-lookup="HAIR_COLOR" data-sort="false" onchange="changeColor(event);"></select>
                        <div id="createCharacter.details.hair.color" class="swatch"></div>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.age" >Previous</a>
                        <a href="#createCharacter.appearance" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.appearance">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.details.appearance">Appearance</label>
                        <textarea id="createCharacter.details.appearance" spellcheck="true" name="character.details.appearance"></textarea> 

                        <label for="createCharacter.details.image">Image</label>
                        <input type="image" id="createCharacter.details.image" name="character.details.image"/> 
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.colors" >Previous</a>
                        <a href="#createCharacter.skills" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.skills">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <fieldset>
                            <legend>Skills <span class="parens">choose <span id="createCharacter.skills.legend" data-rulemax="0"></span> more</span></legend>
                            <div name="character.skills" data-lookup="SKILLS"></div>
                        </fieldset>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.appearance" >Previous</a>
                        <a href="#createCharacter.language" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.language">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter" >
                        <fieldset>
                            <legend>Languages <span class="parens">choose <span id="createCharacter.languages.legend" data-rulemax="0"></span> more</span></legend>
                            <div name="character.languages" data-lookup="LANGUAGES"></div>
                        </fieldset>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.skills" >Previous</a>
                        <a href="#createCharacter.traits" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.traits">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                    <!-- need to sure up the proficiencies editor: choose from list of
                        Proficiencies with free entry and stash.-->
                        <label for="createCharacter.proficiency">Proficiencies</label>
                        <textarea id="createCharacter.proficiency" name="character.proficiency" spellcheck="true"></textarea>

                        <label for="createCharacter.personalitytraits">Personality Traits</label>
                        <textarea id="createCharacter.personalitytraits" name="character.personalitytraits" spellcheck="true"></textarea>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.language" >Previous</a>
                        <a href="#createCharacter.embellishments" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.embellishments">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen column-2 createCharacter">

                        <label for="createCharacter.ideals">Ideals</label>
                        <textarea id="createCharacter.ideals" name="character.ideals" spellcheck="true"></textarea>

                        <label for="createCharacter.bonds">Bonds</label>
                        <textarea id="createCharacter.bonds" name="character.bonds" spellcheck="true"></textarea>

                        <label for="createCharacter.flaws">Flaws</label>
                        <textarea id="createCharacter.flaws" name="character.flaws" spellcheck="true"></textarea>

                        <label for="createCharacter.allies">Allies</label>
                        <textarea id="createCharacter.allies" name="character.allies" spellcheck="true"></textarea>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.traits" >Previous</a>
                        <a href="#createCharacter.items" class="next">Next</a>
                    </div>
                </div>
            </dialog>
            <dialog class="modal" id="createCharacter.items">
                <div class="base">
                    <h2>Create a new character</h2>
                    <div class="description">Load your character</div>
                    <form class="wizardScreen createCharacter">
                        <label for="createCharacter.weapons">Weapons</label>
                        <textarea id="createCharacter.weapons" name="character.weapons" spellcheck="true"></textarea>

                        <label for="createCharacter.equipment">Equipment</label>
                        <textarea id="createCharacter.equipment" name="character.equipment" spellcheck="true"></textarea>

                        <label for="createCharacter.treasure">Treasure</label>
                        <textarea id="createCharacter.treasure" name="character.treasure" spellcheck="true"></textarea>
                    </form>
                    <div class="buttonbar">
                        <a href="#">Cancel</a>
                        <a href="#createCharacter.embellishments">Previous</a>
                        <a href="#" class="next" onClick="setCurrentCharacter(generateDataToJSON())">Complete</a>
                    </div>
                </div>
            </dialog>
        </div>
        
        <script>
            'use strict';
            if('serviceWorker' in navigator) {
                navigator.serviceWorker
                    .register('online5eCS-serviceworker.js')
                    .then(function() { console.log("Service Worker Registered"); })
                    .catch(function(error) {console.log('Registration failed with ' + error);});
            }
        </script>

    </body>
</html>
