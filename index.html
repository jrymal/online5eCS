<!DOCTYPE html>
<html lang="EN-US">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="keywords" content="Character Sheet"/>
        <meta name="description" content="An online only Dungeons and Dragons 5th Edition character record sheet editor."/>
        <meta name="author" content="jrymal"/>
        <meta name="theme-color" content="#3367D6"/>
        
        <title>You have no Class!</title>
        
        <link rel="manifest" href="manifest.json">
        
        <link rel="icon" href="images/icons-192.png" sizes="192x192" />
        <link rel="icon" href="images/icons-512.png" sizes="512x512" />
        
        <script type="text/javascript" src="js/Races.js" async> </script>
        <script type="text/javascript" src="js/Skills.js" async> </script>
        <script type="text/javascript" src="js/Classes.js" async> </script>
        <script type="text/javascript" src="js/Backstories.js" async> </script>
        <script type="text/javascript" src="js/GameEngine.js" async> </script>
        <script type="text/javascript" src="js/Init.js" async> </script>
        <script type="text/javascript" src="js/Languages.js" async> </script>
        <script type="text/javascript" src="js/Coinage.js" async> </script>
        <script type="text/javascript" src="js/CharacterWizard.js" async> </script>

        <link rel="stylesheet" type="text/css" href="css/core.css" media="all" async/>
        
        <link rel="import" id="importFromFile" href="./template/importFromFile.html" async/>
        <link rel="import" id="purseUpdate" href="./template/purseUpdate.html" async/>
        <link rel="import" id="createCharacter" href="./template/createCharacter.html" async/>
    </head>
    <body onload="init()" onbeforeunload="beforeUnload()">

        <h1 id="primeheader">You have no Class!</h1>
 
        <nav id="nav-menu" class="nav" role="navigation">
            <button id="nav" class="nav-anchors" onclick="toggle($('nav-div'))">Menu</button>
            <div id="nav-div" class="hidden">
                <ul>
                    <li id="install-app"><button type="button"  class="install-app" onclick="installApp()" name="Install as Application">Install as Application</button></li>
                    <li><button type="button" onclick="startWizard()">Create a new Character</button></li>
                    <li><button type="button" onclick="openCharacter()">Load a character</button></li>
                    <li><button type="button" onclick="saveCharacter()">Save a character</button></li>
                </ul>
            <div>
        </nav>

        <div class="modal overlay hidden" id="modalOverlay">
            <div class="base">
                <h2 id="modal.title"></h2>
                <div class="description" id="modal.description"></div>
                <div id="modal.body"></div>
            </div>
        </div>
        
        <h2>
            <button type="button" onclick="toggle($('PlayerInfo'))" >Player Info</button>
        </h2>
        <dl id="PlayerInfo" class="stack hidden">
            <dt>Role Player</dt>
            <dd id="player.name"></dd>

            <dt>Phone Number</dt>
            <dd >
                <a target="_blank" id="player.phone" href="tel:+" >Phone number missing</a>
            </dd>
            
            <dt>Email</dt>
            <dd>
                <a target="_blank" id="player.email" href="mailto:">Email missing</a>
            </dd>
        </dl>

        <h2>
            <button type="button" onclick="toggle($('Info'))" >Character</button>
        </h2>
        <dl id='Info' class='stack hidden'>
            <dt>Character Name</dt>
            <dd id="character.name.first"></dd>
            <dd id="character.name.family"></dd>
            <dd id="character.name.nickname"></dd>
            <dd id="character.name.child"></dd>

            <dt>Race</dt>
            <dd id="character.race"></dd>

            <dt>Class</dt>
            <dd id="character.class.type"></dd>

            <dt>Level</dt>
            <dd id="character.class.level"></dd>

            <dt>Experience Points</dt>
            <dd id="character.experience" ></dd>

            <dt>Hit Die</dt>
            <dd id="character.hitDie"></dd>
            
            <dt>Max Hit Points</dt>
            <dd id="character.hitPoints.max"></dd>

            <dt>Current Hit Points</dt>
            <dd id="character.hitPoints.current"></dd>

            <dt>Ability</dt>
            <dd id="character.ability"></dd>

            <dt>Saving Throws</dt>
            <dd id="character.savingThrows"></dd>

            <dt>Inspiration</dt>
            <dd id="character.inspiration"/></dd>
        </dl>             

        <h2>
            <button type="button" onclick="toggle($('Backstory'))" >Backstory</button>
        </h2>
        <dl id='Backstory' class='stack hidden'>
            <dt>Backstory Type</dt>
            <dd id="icharacter.backstory.type"></dd>
            
            <dt>Backstory</dt>
            <dd id="character.backstory.story"></dd>
        </dl>

        <h2>
            <button type="button" onclick="toggle($('Details'))" >Details</button>
        </h2>
        <dl id='Details' class='stack hidden'>
            <dt>Age</dt>
            <dd id="character.details.age" ></dd>

            <dt>Height</dt>
            <dd id="character.details.height"></dd>

            <dt>Weight</dt>
        <dd id="character.details.weight"></dd>

            <dt>Eye Color</dt>
        <dd id="character.details.eyecolor"></dd>

            <dt>Skin Color</dt>
        <dd id="character.details.skin" ></dd>

            <dt>Hair Color</dt>
        <dd id="character.details.hair"></dd>

            <dt>Appearance</dt>
            <dd id="character.details.appearance" ></dd>

        </dl>

        <h2>
            <button type="button" onclick="toggle($('Attributes'))" >Attributes</button>
        </h2>
        <div id='Attributes' class='stack hidden'>

            <div class="attribute_grid">
                <div></div>
                <div>Natural</div>
                <div>Race Modifier</div>
                <div>Total</div>
                <div>Saving Throw</div>
                <div>Passive Score</div>

                <label for="strength" name="strength">Strength</label>
                <input type="number"  pattern="[0-9]*" name="strength" id="strength" class="short" onkeyup="javascript:updateAttribute(event)" min="3" max="20" />
                <div id="RaceModifier.strength" class="short"></div>
                <div id="Total.strength" class="short"></div>
                <div id="SavingThrows.strength" class="short"></div>
                <div id="Passive.strength" class="short"></div>

                <label for="dexterity" name="dexterity">Dexterity</label>
                <input type="number"  name="dexterity" pattern="[0-9]*" id="dexterity"
                                                       class="short"
                                                       onchange="updateAttribute(event)" min="3" max="20" />
                <div id="RaceModifier.dexterity" class="short"></div>
                <div id="Total.dexterity" class="short"></div>
                <div id="SavingThrows.dexterity" class="short"></div>
                <div id="Passive.dexterity" class="short"></div>

                <label for="constitution" name="constitution">Constitution</label>
                <input type="number" name="constitution" pattern="[0-9]*" id="constitution" class="short" onchange="updateAttribute(event)" min="3" max="20" />
                <div id="RaceModifier.constitution" class="short"></div>
                <div id="Total.constitution" class="short"></div>
                <div id="SavingThrows.constitution" class="short"></div>
                <div id="Passive.constitution" class="short"></div>
            
                <label for="intelligence" name="intelligence">Intelligence</label>
                <input type="number" name="intelligence" pattern="[0-9]*" id="intelligence"
                                                         class="short"
                                                         onchange="updateAttribute(event)" min="3" max="20" />
                <div id="RaceModifier.intelligence" class="short"></div>
                <div id="Total.intelligence" class="short"></div>
                <div id="SavingThrows.intelligence" class="short"></div>
                <div id="Passive.intelligence" class="short"></div>
            
                <label for="wisdom" name="wisdom">Wisdom</label>
                <input type="number" name="wisdom" pattern="[0-9]*" id="wisdom" class="short"
                                                               onchange="updateAttribute(event)" min="3" max="20" />
                <div id="RaceModifier.wisdom" class="short"></div>
                <div id="Total.wisdom" class="short"></div>
                <div id="SavingThrows.wisdom" class="short"></div>
                <div id="Passive.wisdom" class="short"></div>
            
                <label for="charisma" name="charisma">Charisma</label>
                <input type="number" name="charisma" pattern="[0-9]*" id="charisma" class="short"
                                                                   onchange="updateAttribute(event)" min="3" max="20" />
                <div id="RaceModifier.charisma" class="short"></div>
                <div id="Total.charisma" class="short"></div>
                <div id="SavingThrows.charisma" class="short"></div>
                <div id="Passive.charisma" class="short"></div>
            
            </div>
        </div>
        
        <h2>
            <button type="button" onclick="toggle($('Skills'))" >Skills</button>
        </h2>
        <dl id="Skills" class="stack hidden">
            <dt>Skills</dt>
            <dd id="character.skills"></dd>
        </dl>

        <h2>
            <button type="Abilities" onclick="toggle($('Abilities'))" >Abilities</button>
        </h2>
        <dl id='Abilities' class='stack hidden'>
            <dd id="character.languages"></dd>

            <dt>Proficiencies</dt>
            <div id="class.proficiencies"></div>
            <dd id="character.proficiencies"></dd>
            
            <dt>Features & Traits</dt>
            <dd id="character.features"></dd>
            
            <dt>Personality Traits</dt>
            <dd id="character.personalitytraits"></dd>
            
            <dt>Ideals</dt>
            <dd id="character.ideals"></dd>
            
            <dt>Bonds</dt>
            <dd id="character.bonds"></dd>
            
            <dt>Flaws</dt>
            <dd id="character.flaws"></dd>
            
            <dt>Allies</dt>
            <dd id="character.allies"></dd>
        </dl>
 

        <h2>
            <button type="Inventory" onclick="toggle($('Inventory'))" >Inventory</button>
        </h2>
        <dl id='Inventory' class='stack hidden'>
            <dt>Weapons</dt>
            <dd id="character.weapons"></dd>
            
            <dt>Equipment</dt>
            <dd id="character.equipment"></dd>
            
            <dt>Treasure</dt>
            <dd id="character.treasure"></dd>
        
            <dt>Purse</dt>
            <a id="character.purse" href="" download="" class="store"></a>
        </dl>
                                              
        <script>
            'use strict';
            if('serviceWorker' in navigator) {
              navigator.serviceWorker
                    .register('online5eCS-serviceworker.js')
                       .then(function() { console.log("Service Worker Registered"); })
                       .catch(function(error) {console.log('Registration failed with ' + error);});
            }
        </script>
    </body>
</html>
