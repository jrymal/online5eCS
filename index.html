<!DOCTYPE html>
<html lang="EN-US">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="keywords" content="Character Sheet"/>
        <meta name="description" content="An online only Dungeons and Dragons 5th Edition character record sheet editor."/>
        <meta name="author" content="jrymal"/>
        <meta name="theme-color" content="#3367D6"/>
        
        <title>You have no Class!</title>
        
        <link rel="manifest" href="manifest.json">
        
        <link rel="icon" href="images/icons-192.png" sizes="192x192" />
        <link rel="icon" href="images/icons-512.png" sizes="512x512" />
        
        <!-- All static objects rely on deep freeze in Util -->
        <script type="text/javascript" src="js/Util.js"> </script>
        <script type="text/javascript" src="js/Random.js" async> </script>
        <script type="text/javascript" src="js/Races.js" async> </script>
        <script type="text/javascript" src="js/Skills.js" async> </script>
        <script type="text/javascript" src="js/Classes.js" async> </script>
        <script type="text/javascript" src="js/Backstories.js" async> </script>
        <script type="text/javascript" src="js/Languages.js" async> </script>
        <script type="text/javascript" src="js/Coinage.js" async> </script>
        <script type="text/javascript" src="js/CharacterWizard.js" async> </script>
        <script type="text/javascript" src="js/Init.js" async> </script>
        <script type="text/javascript" src="js/Colors.js" async> </script>

        <link rel="stylesheet" type="text/css" href="css/core.css" media="all" async/>
        
        <link rel="import" id="importFromFile" href="./template/importFromFile.html" async/>
        <link rel="import" id="purseUpdate" href="./template/purseUpdate.html" async/>
        <link rel="import" id="createCharacter" href="./template/createCharacter.html" async/>
    </head>
    <body id="rootNode" class="topContainer nocharacter" onload="init()" onbeforeunload="beforeUnload()">
        <div class="modal overlay hidden" id="modalOverlay">
            <div class="base">
                <h2 id="modal.title"></h2>
                <div class="description" id="modal.description"></div>
                <div id="modal.body"></div>
            </div>
        </div>
 
        <button id="install-app" class="hidden install-app" type="button" onclick="installApp()">Install as an App for offline operation</button>

        <div class="header">
            <h1 id="primeHeader">You have no Class!</h1>
     
            <nav class="nav nav-menu" role="navigation">
                <button type="button" onclick="startWizard()">Create a new Character</button>
                <button type="button" onclick="openCharacter()">Load a character</button>
                <button type="button" onclick="saveCharacter()">Save a character</button> 
            </nav>
        </div>

        <dl class="stack playerInfo">
            <dt>Role Player</dt>
            <dd id="player.name"></dd>

            <dt>Phone Number</dt>
            <dd >
                <a target="_blank" id="player.phone" href="tel:+" >Phone number missing</a>
            </dd>
            
            <dt>Email</dt>
            <dd>
                <a target="_blank" id="player.email" href="mailto:">Email missing</a>
            </dd>
        </dl>
        
        <div class="stack fullWidth characterName">
            <h2>
                <span id="character.name.first"></span>
                <span class="quoted" id="character.name.nickname"></span>
                <span class="parens" id="character.name.child"></span>
                <span id="character.name.family"></span>
            </h2>
        </div>
        
        <dl class="stack fullWidth subdivided stats">
            <div class="grouping">
                <dt>Race</dt>
                <dd>
                <span id="character.race" data-lookup="RACES"></span>
                <span class="parens" id="character.pronoun" data-lookup="PRONOUNS"></span>
                </dd>
            </div>
            
            <div class="grouping">
            <dt>Alignment</dt>
            <dd>Society: <span id="character.alignment.society"></span></dd>
            <dd>Morality: <span id="character.alignment.morality"></span></dd>
            </div>
             
            <div class="grouping">
            <dt>Size</dt>
            <dd id="RACE.size.simple"></dd>
            </div> 
            
            <div class="grouping">
            <dt>Speed</dt>
            <dd id="RACE.speed"></dd>
            </div>  
            
            <div class="grouping">
            <dt>Class</dt>
            <dd>
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Class</th>
                            <th scope="col">Level</th>
                            <th scope="col">Hit Die</th>
                        </tr>
                    </thead>
                    <tbody id="character.class">
                    </tbody>
                </table>
            </dd>
            </div>
           
            <div class="grouping">
            <dt>Experience Points</dt>
            <dd id="character.experience" ></dd>
            </div>

            <div class="grouping">
            <dt>Max Hit Points</dt>
            <dd id="character.hitPoints.max"></dd>
            </div>

            <div class="grouping">
            <dt>Current Hit Points</dt>
            <dd id="character.hitPoints.current"></dd>
            </div>

            <div class="grouping">
            <dt>Race Traits</dt>
            <dd id="RACE.features"></dd>
            </div>
            
            <div class="grouping">
            <dt>Class Features</dt>
            <dd id="CALC.features"></dd>
            </div>
             
            <div class="grouping">
            <dt>Saving Throw Proficiencies</dt>
            <dd id="CALC.savingThrows" data-lookup="SAVING_THROWS"></dd> 
            </div>
            
            <div class="grouping">
            <dt>Proficiencies</dt>
            <dd id="CALC.proficiency"></dd>
            </div>
          
            <div class="grouping">
            <dt>Skills</dt>
            <dd id="character.skills" data-lookup="SKILLS"></dd>
            </div>
            
            <div class="grouping">
            <dt>Languages</dt>
            <dd id="character.languages" data-lookup="LANGUAGES"></dd>
            </div>

            <div class="grouping">
            <dt>Inspiration</dt>
            <dd><input type="checkbox" id="character.inspiration" disabled="disabled"/></dd>
            </div>
        </dl>

        <table class="stack fullWidth attributes">
            <caption>Your character's Attribute values</caption>
            <thead>
                <tr>
                    <th scope="col">Attribute Name</th>
                    <th scope="col">Natural (Race Modifier)</th>
                    <th scope="col">Total</th>
                    <th scope="col">Saving Throw Modifier</th>
                    <th scope="col">Passive Saving Throw</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">Strength</th>
                    <td >
                        <span id="character.attribute.strength"></span>
                        <span class="parens" id="CALC.attribute.strength.raceModifier" data-show-0="false"></span>
                    </td>
                    <td id="CALC.attribute.strength.total"></td>
                    <td id="CALC.attribute.strength.savingThrow"></td>
                    <td id="CALC.attribute.strength.passiveSavingThrow"></td>
                </tr>
                <tr>
                    <th scope="row">Dexterity</th>
                    <td >
                        <span id="character.attribute.dexterity"></span>
                        <span class="parens"id="CALC.attribute.dexterity.raceModifier" data-show-0="false"></span>
                    </td>
                    <td id="CALC.attribute.dexterity.total"></td>
                    <td id="CALC.attribute.dexterity.savingThrow"></td>
                    <td id="CALC.attribute.dexterity.passiveSavingThrow"></td>
                </tr>  
                <tr>
                    <th scope="row">Constitution</th>
                    <td >
                        <span id="character.attribute.constitution"></span>
                        <span class="parens"id="CALC.attribute.constitution.raceModifier" data-show-0="false"></span>
                    </td>
                    <td id="CALC.attribute.constitution.total"></td>
                    <td id="CALC.attribute.constitution.savingThrow"></td>
                    <td id="CALC.attribute.constitution.passiveSavingThrow"></td>
                </tr>
                <tr>
                    <th scope="row">Intelligence</th>
                    <td >
                        <span id="character.attribute.intelligence"></span>
                        <span class="parens"id="CALC.attribute.intelligence.raceModifier" data-show-0="false"></span>
                    </td>
                    <td id="CALC.attribute.intelligence.total"></td>
                    <td id="CALC.attribute.intelligence.savingThrow"></td>
                    <td id="CALC.attribute.intelligence.passiveSavingThrow"></td>
                </tr>
                <tr>
                    <th scope="row">Wisdom</th>
                    <td >
                        <span id="character.attribute.wisdom"></span>
                        <span class="parens"id="CALC.attribute.wisdom.raceModifier" data-show-0="false"></span>
                    </td>
                    <td id="CALC.attribute.wisdom.total"></td>
                    <td id="CALC.attribute.wisdom.savingThrow"></td>
                    <td id="CALC.attribute.wisdom.passiveSavingThrow"></td>
                </tr>
                <tr>
                    <th scope="row">Charisma</th>
                    <td >
                        <span id="character.attribute.charisma"></span>
                        <span class="parens"id="CALC.attribute.charisma.raceModifier" data-show-0="false"></span>
                    </td>
                    <td id="CALC.attribute.charisma.total"></td>
                    <td id="CALC.attribute.charisma.savingThrow"></td>
                    <td id="CALC.attribute.charisma.passiveSavingThrow"></td>
                </tr>
            </tbody>
        </table>
        <dl class="stack fullWidth subdivided appearance">
            <div class="grouping">
            <dt>Age</dt>
            <dd id="character.details.age" ></dd>
            </div>

            <div class="grouping">
            <dt>Height</dt>
            <dd id="character.details.height"></dd>
            </div>

            <div class="grouping">
            <dt>Weight</dt>
            <dd id="character.details.weight"></dd>
            </div>

            <div class="grouping">
            <dt>Purse</dt>
            <dd id="character.purse"></dd>
            <a id="character.purse" href="" download="" class="store"></a>
            </div>
            
            <div class="grouping">
            <dt>Weapons</dt>
            <dd id="character.weapons"></dd>
            </div>
            
            <div class="grouping">
            <dt>Equipment</dt>
            <dd id="character.equipment"></dd>
            </div>
            
            <div class="grouping">
            <dt>Treasure</dt>
            <dd id="character.treasure"></dd>
            </div>
         
            <div class="grouping">
            <dt>Backstory Type</dt>
            <dd id="character.backstory.type" data-lookup="BACKSTORIES"></dd>
            </div>
            
            <div class="grouping">
            <dt>Backstory</dt>
            <dd id="character.backstory.story"></dd>
            </div>
            
            <div class="grouping">
            <dt>Appearance</dt>
            <dd id="character.details.appearance" ></dd>
            </div>
            
            <div class="grouping">
            <dt>Eye Color</dt>
            <dd><div class="tagAlong" id="character.details.eyecolor" data-lookup="EYE_COLOR"></div><div class="swatch" id="character.details.eyecolor.color"></div></dd>
            </div>

            <div class="grouping">
            <dt>Skin Color</dt>
            <dd><div class="tagAlong" id="character.details.skin" data-lookup="SKIN_COLOR"></div><div class="swatch" id="character.details.skin.color"></div></dd>
            </div>

            <div class="grouping">
            <dt>Hair Color</dt>
            <dd><div class="tagAlong" id="character.details.hair" data-lookup="HAIR_COLOR"></div><div class="swatch" id="character.details.hair.color"></div></dd>
            </div>
             
            <div class="grouping">
            <dt>Personality Traits</dt>
            <dd id="character.personalitytraits"></dd>
            </div>
            
            <div class="grouping">
            <dt>Ideals</dt>
            <dd id="character.ideals"></dd>
            </div>
            
            <div class="grouping">
            <dt>Bonds</dt>
            <dd id="character.bonds"></dd>
            </div>
            
            <div class="grouping">
            <dt>Flaws</dt>
            <dd id="character.flaws"></dd>
            </div>
            
            <div class="grouping">
            <dt>Allies</dt>
            <dd id="character.allies"></dd> 
            </div>
        </dl>

        <p class="fullWidth footer">I've been known to be wrong every once in a while. If you've found an Issue,<a target="_blank" href="https://github.com/jrymal/online5eCS/issues/new"> let me know!</a></p>
        <script>
            'use strict';
            if('serviceWorker' in navigator) {
              navigator.serviceWorker
                    .register('online5eCS-serviceworker.js')
                       .then(function() { console.log("Service Worker Registered"); })
                       .catch(function(error) {console.log('Registration failed with ' + error);});
            }
        </script>
    </body>
</html>
